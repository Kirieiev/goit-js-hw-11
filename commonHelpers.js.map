{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nexport function fetchImage(name) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '42516548-e76607dce4d0f5a31ac9147e6';\n  const url = `${BASE_URL}?key=${API_KEY}&q=${name}&image_type=photo&orientation=horizontal&safesearch=true&per_page=18`;\n\n  return fetch(url).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n","'use strict';\n\nexport function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n  <li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n    />\n    <div class=\"description-container\">\n        <ul class=\"gallery-description\">\n    <li class=\"description-item\">Likes</li>\n    <li class=\"description-second-item\">${likes}</li>\n    </ul>\n        <ul class=\"gallery-description\">\n    <li class=\"description-item\">Views</li>\n    <li class=\"description-second-item\">${views}</li>\n    </ul>\n        <ul class=\"gallery-description\">\n    <li class=\"description-item\">Comments</li>\n    <li class=\"description-second-item\">${comments}</li>\n    </ul>\n        <ul class=\"gallery-description\">\n    <li class=\"description-item\">Downloads</li>\n    <li class=\"description-second-item\">${downloads}</li>\n    </ul>\n    </div>\n  </a>\n</li>\n  `\n    )\n    .join('');\n}\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImage } from './js/pixabay-api.js';\nimport { createMarkup } from './js/render-functions.js';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\nform.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n  loader.style.display = 'block';\n  const inputValue = event.target.elements.query.value;\n  fetchImage(inputValue)\n    .then(data => {\n      loader.style.display = 'none';\n      if (!data.hits.length) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          maxWidth: 300,\n          progressBar: true,\n          progressBarEasing: false,\n          position: 'topRight',\n          backgroundColor: '#ff6d60',\n        });\n      }\n      if (!inputValue.trim()) {\n        iziToast.error({\n          title: 'Empty field',\n          message: 'Enter text to search',\n          maxWidth: 300,\n          progressBar: true,\n          progressBarEasing: false,\n          position: 'topRight',\n          backgroundColor: '#ff6d60',\n        });\n        return;\n      }\n      gallery.innerHTML = '';\n      gallery.innerHTML = createMarkup(data.hits);\n      const refreshPage = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      refreshPage.refresh();\n      form.reset();\n    })\n    .catch(onFetchError);\n}\n\nfunction onFetchError() {\n  iziToast.error({\n    title: 'Error',\n    message: 'Oops... Please try again',\n    maxWidth: 300,\n    progressBar: true,\n    progressBarEasing: false,\n    position: 'topRight',\n    backgroundColor: '#ff6d60',\n  });\n}\n"],"names":["fetchImage","name","url","resp","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loader","handleSearch","event","inputValue","data","iziToast","SimpleLightbox","onFetchError"],"mappings":"6vBAEO,SAASA,EAAWC,EAAM,CAG/B,MAAMC,EAAM,qEAAgCD,CAAI,uEAEhD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAQ,CAC7B,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CCXO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,kCAEsBL,CAAa;AAAA;AAAA;AAAA,aAGlCD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0CAKyBC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,GAM9C,EACA,KAAK,EAAE,CACZ,CCjCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OACvBF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBF,EAAO,MAAM,QAAU,QACvB,MAAMG,EAAaD,EAAM,OAAO,SAAS,MAAM,MAC/CjB,EAAWkB,CAAU,EAClB,KAAKC,GAAQ,CAcZ,GAbAJ,EAAO,MAAM,QAAU,OAClBI,EAAK,KAAK,QACbC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,IACV,YAAa,GACb,kBAAmB,GACnB,SAAU,WACV,gBAAiB,SAC3B,CAAS,EAEC,CAACF,EAAW,OAAQ,CACtBE,EAAS,MAAM,CACb,MAAO,cACP,QAAS,uBACT,SAAU,IACV,YAAa,GACb,kBAAmB,GACnB,SAAU,WACV,gBAAiB,SAC3B,CAAS,EACD,MACD,CACDN,EAAQ,UAAY,GACpBA,EAAQ,UAAYV,EAAae,EAAK,IAAI,EACtB,IAAIE,EAAe,aAAc,CACnD,aAAc,MACd,aAAc,GACtB,CAAO,EACW,QAAO,EACnBR,EAAK,MAAK,CAChB,CAAK,EACA,MAAMS,CAAY,CACvB,CAEA,SAASA,GAAe,CACtBF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2BACT,SAAU,IACV,YAAa,GACb,kBAAmB,GACnB,SAAU,WACV,gBAAiB,SACrB,CAAG,CACH"}